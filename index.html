<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chat</title>

  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/9.0.0/mdb.min.css" rel="stylesheet" />

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Your Existing Navbar (unchanged) -->
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid justify-content-between">
      <!-- Left elements -->
      <div class="d-flex">
        <!-- Brand -->
        <a class="navbar-brand me-1 mb-1 d-flex align-items-center" href="#">
          <span class="material-symbols-outlined open_sidebar_btn rounded-circle p-3 me-3">
            menu
          </span>
          <img src="https://mdbcdn.b-cdn.net/img/logo/mdb-transaprent-noshadows.webp" height="20" alt="MDB Logo"
            loading="lazy" style="margin-top: 2px" />
          <small class="text-muted ms-3 fs-4">Dhambaal</small>
        </a>

        <!-- Search form -->
        <form class="input-group w-auto my-auto d-none d-sm-flex ms-5">
          <div class="input-group mb-3 navbar-search-wrapper">
            <span class="input-group-text px-3 py-3 navbar-search rounded-start-5 navbar-search-btn" id="basic-addon1"
              onclick="focusSearchInput()">
              <i class="fas fa-search navbar-search-btn2 rounded-circle" onclick="focusSearchInput()"></i>
            </span>
            <input autocomplete="off" type="search" class="form-control rounded-end-5 navbar-search fs-6 px-2 py-2"
              placeholder="Raadi dhambaal" aria-label="Username" aria-describedby="basic-addon1"
              style="min-width: 500px" id="navSearchInput" />
          </div>
        </form>
      </div>
      <!-- Left elements -->

      <!-- Right elements -->
      <ul class="navbar-nav flex-row">
        <li class="nav-item me-3 me-lg-1">
          <a class="nav-link d-sm-flex align-items-sm-center" href="#">
            <img src="https://mdbcdn.b-cdn.net/img/new/avatars/1.webp" class="rounded-circle" height="22"
              alt="Black and White Portrait of a Man" loading="lazy" />
            <strong class="d-none d-sm-block ms-1">John</strong>
          </a>
        </li>
        <li class="nav-item me-3 me-lg-1">
          <a class="nav-link" href="#">
            <span><i class="fas fa-plus-circle fa-lg"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown me-3 me-lg-1">
          <a data-mdb-dropdown-init class="nav-link dropdown-toggle hidden-arrow" href="#" id="navbarDropdownMenuLink"
            role="button" aria-expanded="false">
            <i class="fas fa-comments fa-lg"></i>
            <span class="badge rounded-pill badge-notification bg-danger">6</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
            <li><a class="dropdown-item" href="#">Some news</a></li>
            <li><a class="dropdown-item" href="#">Another news</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown me-3 me-lg-1">
          <a data-mdb-dropdown-init class="nav-link dropdown-toggle hidden-arrow" href="#" id="navbarDropdownMenuLink"
            role="button" aria-expanded="false">
            <i class="fas fa-bell fa-lg"></i>
            <span class="badge rounded-pill badge-notification bg-danger">12</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
            <li><a class="dropdown-item" href="#">Some news</a></li>
            <li><a class="dropdown-item" href="#">Another news</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown me-3 me-lg-1">
          <a data-mdb-dropdown-init class="nav-link dropdown-toggle hidden-arrow" href="#" id="navbarDropdownMenuLink"
            role="button" aria-expanded="false">
            <i class="fas fa-chevron-circle-down fa-lg"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
            <li><a class="dropdown-item" href="#">Some news</a></li>
            <li><a class="dropdown-item" href="#">Another news</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>
      </ul>
      <!-- Right elements -->
    </div>
  </nav>

  <!-- Main Chat Container -->
  <div class="chat-container">
    <!-- Left Sidebar -->
    <div class="chat-sidebar pushed">
      <!-- Only keep the original sidebar items -->
      <div class="sidebar-item active">
        <span class="material-symbols-outlined">home</span>
        <span>Home</span>
      </div>
      <div class="sidebar-item">
        <span class="material-symbols-outlined">search</span>
        <span>Search in chat</span>
      </div>
      <!-- The overlay will be added by JavaScript -->
    </div>


    <!-- Chats Panel -->
    <div id="left-pane" class="chats-panel">
      <div class="section-header d-flex align-items-center justify-content-between gap-3 px-2 py-2">
        <div class="fw-bold fs-6">Home</div>

        <div class="d-flex align-items-center gap-2">
          <div class="d-flex align-items-center gap-1">
            <span class="text-muted">Unread</span>
            <label class="switch">
              <input type="checkbox" checked />
              <span class="slider round"></span>
            </label>
          </div>

          <button class="btn btn-light d-flex align-items-center gap-1 px-3 py-1 border rounded-pill">
            <span class="material-symbols-outlined">hourglass_empty</span> Thread
          </button>

          <button class="btn btn-light d-flex align-items-center gap-1 px-2 py-1 border rounded-pill">
            <span class="material-symbols-outlined">list</span>
          </button>
        </div>
      </div>

      <div class="chat-item my-1 active">
        <div class="chat-avatar">
          <img src="./avatar-4.jpg" class="rounded-circle" width="40" height="40" />
        </div>

        <div class="chat-info w-100">
          <div class="chat-header d-flex justify-content-between align-items-center">
            <div class="chat-user-info">
              <div class="chat-name">Fahad Albasrawie</div>
              <div class="chat-preview">You: WAA WADAA USTAADO AN...</div>
            </div>

            <div class="chat-meta d-flex align-items-center gap-2">
              <div class="chat-time">2 min</div>
              <div class="chat-actions d-flex align-items-center gap-1">
                <span class="material-symbols-outlined chat-action-icon">mark_chat_unread</span>
                <span class="material-symbols-outlined chat-action-icon more-vert-btn">more_vert</span>
                
                
              </div>
              <!-- Add this popup menu -->
                <div class="more-vert-popup">
                  <div class="popup-item">
                    <span class="material-symbols-outlined">mark_as_unread</span>
                    <span>Mark as unread</span>
                  </div>
                  <div class="popup-item">
                    <span class="material-symbols-outlined">open_in_new</span>
                    <span>Open in a pop-up</span>
                  </div>
                  <div class="popup-item">
                    <span class="material-symbols-outlined">notifications_off</span>
                    <span>Mute</span>
                  </div>
                  <div class="popup-item">
                    <span class="material-symbols-outlined">notifications</span>
                    <span>Notifications</span>
                  </div>
                  <div class="popup-divider"></div>
                  <div class="popup-item">
                    <span class="material-symbols-outlined">visibility_off</span>
                    <span>Hide conversation</span>
                  </div>
                  <div class="popup-item">
                    <span class="material-symbols-outlined">delete</span>
                    <span>Delete conversation</span>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>

      <div class="chat-item my-1">
        <div class="chat-avatar">
          <img src="./avatar-3.jpg" class="rounded-circle" width="40" height="40" />
        </div>

        <div class="chat-info w-100">
          <div class="chat-header d-flex justify-content-between align-items-center">
            <div class="chat-user-info">
              <div class="chat-name">Abdisalan Abdukadir</div>
              <div class="chat-preview">You: WAA WADAA USTAADO AN...</div>
            </div>

            <div class="chat-meta d-flex align-items-center gap-2">
              <div class="chat-time">Yesterday</div>
              <div class="chat-actions d-flex align-items-center gap-1">
                <span class="material-symbols-outlined chat-action-icon">mark_chat_unread</span>
                <span class="material-symbols-outlined chat-action-icon">more_vert</span>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="chat-item my-1">
        <div class="chat-avatar">
          <img src="./avatar-2.jpg" class="rounded-circle" width="40" height="40" />
        </div>

        <div class="chat-info w-100">
          <div class="chat-header d-flex justify-content-between align-items-center">
            <div class="chat-user-info">
              <div class="chat-name">Hussein Abdirazaq</div>
              <div class="chat-preview">You: WAA WADAA USTAADO AN...</div>
            </div>

            <div class="chat-meta d-flex align-items-center gap-2">
              <div class="chat-time">Thu</div>
              <div class="chat-actions d-flex align-items-center gap-1">
                <span class="material-symbols-outlined chat-action-icon">mark_chat_unread</span>
                <span class="material-symbols-outlined chat-action-icon">more_vert</span>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="chat-item my-1">
        <div class="chat-avatar">
          <img src="./avatar-6.jpg" class="rounded-circle" width="40" height="40" />
        </div>

        <div class="chat-info w-100">
          <div class="chat-header d-flex justify-content-between align-items-center">
            <div class="chat-user-info">
              <div class="chat-name">Jimcale Abdi</div>
              <div class="chat-preview">You: WAA WADAA USTAADO AN...</div>
            </div>

            <div class="chat-meta d-flex align-items-center gap-2">
              <div class="chat-time">Mon</div>
              <div class="chat-actions d-flex align-items-center gap-1">
                <span class="material-symbols-outlined chat-action-icon">mark_chat_unread</span>
                <span class="material-symbols-outlined chat-action-icon">more_vert</span>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="section-header">
        <h5>Search in chat</h5>
      </div>

      <div class="chat-item">
        <div class="chat-info">
          <div class="chat-name">Active</div>
        </div>
      </div>

      <div class="chat-item">
        <div class="chat-info">
          <div class="chat-name">Create a space to chat and get it</div>
        </div>
      </div>

      <div class="chat-item">
        <div class="chat-info">
          <div class="chat-name">No apps yet Explore</div>
        </div>
      </div>
    </div>

    <!-- Resizer -->
    <div id="room-resizer" class="resizer"></div>

    <div id="right-pane" class="chat-room">
      <!-- Default empty state (hidden when conversation is selected) -->
      <div class="empty-chat">
        <span class="material-symbols-outlined empty-chat-icon">forum</span>
        <h4>No conversation selected</h4>
        <p>Use the toggle to switch between single and split pane modes</p>
      </div>

      <!-- Conversation view (hidden by default) -->
      <div class="conversation-view" style="display: none;">
        <div class="conversation-header">
          <div class="user-info">
            <img src="./avatar-4.jpg" class="rounded-circle" width="40" height="40" />
            <div>
              <div class="user-name">Fahad Albasrawie</div>
              <div class="user-email">cabbaascadde55@gmail.com</div>
            </div>
          </div>
          <div class="conversation-meta">
            <div class="conversation-actions">
              <span class="material-symbols-outlined">search</span>
              <span class="material-symbols-outlined">more_vert</span>
            </div>
          </div>
        </div>

        <div class="conversation-body">
          <div class="message-history">
            <div class="history-notice">
              <div>
                <img src="./avatar-4.jpg" class="rounded-circle mb-4" width="80" height="80" />
              </div>
              <div>
                <h4>Fahad Albasrawie</h4>
              </div>
              <div>
                <span>cabbaascadde55@gmail.com</span><br>
                <span>Fahad Albasrawie created this chat on Thursday, May 22</span>
              </div>
            </div>

            <div class="history-notice">

              <p><span class="material-symbols-outlined">history</span> HISTORY IS ON</p>
              <span>Messages sent with history on are saved</span>
            </div>

            <div class="date-divider">Thursday, May 22</div>




            <div class="message">
              <div class="message-header">
                <span class="sender">Fahad Albasrawie</span>
                <span class="time">Thu 10:43 AM</span>
              </div>
              <div class="message-content-container">
                <div class="message-content-wrapper">
                  <div class="one-message-content">
                    <div class="message-text">Salaan Gaabshiine.</div>
                    <div class="message-actions">
                      <div class="reaction-wrapper">
                        <span class="material-symbols-outlined action-icon">add_reaction</span>
                        <div class="reaction-picker-container">
                          <emoji-picker class="reaction-picker"></emoji-picker>
                        </div>
                      </div>
                      <span class="material-symbols-outlined action-icon">reply</span>
                      <span class="material-symbols-outlined action-icon">more_vert</span>
                    </div>
                  </div>
                  <div class="message-reactions">
                    <div class="reaction">üëç <span class="reaction-count">2</span></div>
                    <div class="reaction">üòÇ <span class="reaction-count">1</span></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="date-divider">Today</div>

            <div class="message">
              <div class="message-header">
                <span class="sender">Fahad Albasrawie</span>
                <span class="time">Thu 10:43 AM</span>
              </div>
              <div class="message-content-container">
                <div class="message-content-wrapper">
                  <div class="message-content">
                    <div class="message-text">Salaan Gaabshiine.</div>
                    <div class="message-actions">
                      <span class="material-symbols-outlined action-icon">add_reaction</span>
                      <span class="material-symbols-outlined action-icon">reply</span>
                      <span class="material-symbols-outlined action-icon">more_vert</span>
                    </div>
                  </div>
                </div>
                <div class="message-content-wrapper">
                  <div class="message-content-another">
                    <div class="message-text">Sidee baad tahay saaxilib? üòä</div>
                    <div class="message-actions">
                      <span class="material-symbols-outlined action-icon">add_reaction</span>
                      <span class="material-symbols-outlined action-icon">reply</span>
                      <span class="material-symbols-outlined action-icon">more_vert</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="date-divider">Today</div>

            <div class="message you">
              <div class="message-header">
                <span class="sender">You</span>
                <span class="time">15 min</span>
              </div>
              <div class="message-content-wrapper">
                <div class="message-content">
                  <div class="message-text">waa flicanahay!</div>
                  <div class="message-actions">
                    <span class="material-symbols-outlined action-icon">add_reaction</span>
                    <span class="material-symbols-outlined action-icon">edit</span>
                    <span class="material-symbols-outlined action-icon">reply</span>
                    <span class="material-symbols-outlined action-icon">more_vert</span>
                  </div>
                </div>
              </div>
            </div>


            <div class="message">

              <div class="message-header">
                <span class="sender">Fahad Albasrawie (via Meet)</span>
                <span class="time">Sat 9:43AM</span>
              </div>
              <div class="call-message-content call-message">
                <span class="material-symbols-outlined call-icon">missed_video_call</span>
                <span class="call-text">Call missed</span>
              </div>

            </div>


          </div>
        </div>

        <div class="message-input-container">
          <div class="input-tools">
            <span class="material-symbols-outlined">add_circle</span>
          </div>
          
          <div class="textarea-container">
            <textarea class="message-input" placeholder="Type a message" rows="1"></textarea>
            <div class="inline-icons">
              <span class="material-symbols-outlined icon-emoji">mood</span>
              <span class="material-symbols-outlined icon-voice">keyboard_voice</span>  
            </div>
          </div>
          
          <div class="send-button">
            <span class="material-symbols-outlined">send</span>
          </div>
          
          <!-- Emoji Picker Container -->
          <div class="emoji-input-picker-container">
            <emoji-picker class="emoji-input-picker"></emoji-picker>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/9.0.0/mdb.umd.min.js"></script>
  <script src="app.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
</body>

</html>